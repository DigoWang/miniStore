{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/mistletoe/Desktop/mall/pages/tabBar/cart/cart.vue?830a","webpack:////Users/mistletoe/Desktop/mall/pages/tabBar/cart/cart.vue?1b42","webpack:////Users/mistletoe/Desktop/mall/pages/tabBar/cart/cart.vue?9dbb","uni-app:///pages/tabBar/cart/cart.vue","webpack:////Users/mistletoe/Desktop/mall/pages/tabBar/cart/cart.vue?a34c","webpack:////Users/mistletoe/Desktop/mall/pages/tabBar/cart/cart.vue?cfb0"],"names":["createPage","Page"],"mappings":"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","file":"pages/tabBar/cart/cart.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/tabBar/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./cart.vue?vue&type=template&id=7f17b197&\"\nvar renderjs\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tabBar/cart/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=7f17b197&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = (_vm.totalPrice || 0).toFixed(2)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <view\r\n      v-if=\"showHeader\"\r\n      class=\"status\"\r\n      :style=\"{ position: headerPosition, top: statusTop }\"\r\n    ></view>\r\n    <view\r\n      v-if=\"showHeader\"\r\n      class=\"header\"\r\n      :style=\"{ position: headerPosition, top: headerTop }\"\r\n    >\r\n      <view class=\"title\">购物车</view>\r\n    </view>\r\n    <!-- 占位 -->\r\n    <view v-if=\"showHeader\" class=\"place\"></view>\r\n    <!-- 商品列表 -->\r\n    <view class=\"goods-list\">\r\n      <view class=\"back\" v-if=\"isExpire\">\r\n        <button type=\"primary\" @click=\"toLogin\">去登录</button></view\r\n      >\r\n      <view class=\"tis\" v-if=\"!isExpire && goodsList.length == 0\"\r\n        >购物车是空的哦~</view\r\n      >\r\n      <view class=\"row\" v-for=\"(row, index) in goodsList\" :key=\"index\">\r\n        <!-- 删除按钮 -->\r\n        <view class=\"menu\" @tap.stop=\"deleteGoods(row)\">\r\n          <view class=\"icon shanchu\"></view>\r\n        </view>\r\n        <!-- 商品 -->\r\n        <view\r\n          class=\"carrier\"\r\n          :class=\"[\r\n            theIndex == index ? 'open' : oldIndex == index ? 'close' : '',\r\n          ]\"\r\n          @touchstart=\"touchStart(index, $event)\"\r\n          @touchmove=\"touchMove(index, $event)\"\r\n          @touchend=\"touchEnd(index, $event)\"\r\n        >\r\n          <!-- checkbox -->\r\n          <view class=\"checkbox-box\" @tap=\"selected(row)\">\r\n            <view class=\"checkbox\">\r\n              <view :class=\"[row.isChecked === 1 ? 'on' : '']\"></view>\r\n            </view>\r\n          </view>\r\n          <!-- 商品信息 -->\r\n          <view class=\"goods-info\">\r\n            <view class=\"img\">\r\n              <image @tap=\"toGoods(row)\" :src=\"row.imgUrl\"></image>\r\n            </view>\r\n            <view class=\"info\">\r\n              <view @tap=\"toGoods(row)\" class=\"title\">{{ row.skuName }}</view>\r\n              <view class=\"spec\">规格:{{ row.brandName }}</view>\r\n              <view class=\"price-number\">\r\n                <view class=\"price\">￥{{ row.skuPrice }}</view>\r\n                <view class=\"number\">\r\n                  <view class=\"sub\" @tap.stop=\"changeCount(row, -1)\">\r\n                    <view class=\"icon jian\"></view>\r\n                  </view>\r\n                  <view class=\"input\">\r\n                    <input\r\n                      type=\"number\"\r\n                      v-model.number=\"row.skuNum\"\r\n                      @change.stop=\"changeCount(row)\"\r\n                    />\r\n                  </view>\r\n                  <view class=\"add\" @tap.stop=\"changeCount(row, 1)\">\r\n                    <view class=\"icon jia\"></view>\r\n                  </view>\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- 脚部菜单 -->\r\n    <view class=\"footer\" :style=\"{ bottom: footerbottom }\">\r\n      <view class=\"settlement\">\r\n        <view class=\"sum\"\r\n          >合计:<view class=\"money\"\r\n            >￥{{ (totalPrice || 0).toFixed(2) }}</view\r\n          ></view\r\n        >\r\n        <view class=\"btn\" @tap=\"toConfirmation\">结算({{ selectedCount }})</view>\r\n      </view>\r\n      <view v-if=\"goodsList.length\" class=\"checkbox-box\" @tap=\"allSelect\">\r\n        <view class=\"checkbox\">\r\n          <view :class=\"[isAllselected ? 'on' : '']\"></view>\r\n        </view>\r\n        <view class=\"text\">全选</view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      headerPosition: \"fixed\",\r\n      headerTop: null,\r\n      statusTop: null,\r\n      showHeader: true,\r\n\r\n      goodsList: [],\r\n      //控制滑动效果\r\n      theIndex: null,\r\n      oldIndex: null,\r\n      isStop: false,\r\n      isExpire: false,\r\n    };\r\n  },\r\n  onPageScroll(e) {\r\n    //兼容iOS端下拉时顶部漂移\r\n    this.headerPosition = e.scrollTop >= 0 ? \"fixed\" : \"absolute\";\r\n    this.headerTop = e.scrollTop >= 0 ? null : 0;\r\n    this.statusTop = e.scrollTop >= 0 ? null : -this.statusHeight + \"px\";\r\n  },\r\n  //下拉刷新，需要自己在page.json文件中配置开启页面下拉刷新 \"enablePullDownRefresh\": true\r\n  async onPullDownRefresh() {\r\n    // 获取购物车列表\r\n    await this.getCartList();\r\n    uni.showToast({\r\n      title: \"刷新成功\",\r\n      duration: 1000,\r\n    });\r\n    uni.stopPullDownRefresh();\r\n  },\r\n  onShow() {\r\n    // 获取购物车列表\r\n    this.getCartList();\r\n  },\r\n  onHide() {\r\n    this.theIndex = null;\r\n    this.oldIndex = null;\r\n  },\r\n  onLoad() {\r\n    //兼容H5下结算条位置\r\n    // #ifdef H5\r\n    this.footerbottom =\r\n      document.getElementsByTagName(\"uni-tabbar\")[0].offsetHeight + \"px\";\r\n    // #endif\r\n    // #ifdef APP-PLUS\r\n    this.showHeader = false;\r\n    this.statusHeight = plus.navigator.getStatusbarHeight();\r\n    // #endif\r\n  },\r\n  methods: {\r\n    // 获取商品列表\r\n    async getCartList() {\r\n      const res = await this.$API(\"/cart/getCart\");\r\n      if (res.code === 200) {\r\n        this.isExpire = false;\r\n        this.goodsList = res.data.cartList;\r\n      } else if (res.code === 201) {\r\n        this.isExpire = true;\r\n        this.goodsList = [];\r\n        uni.showToast({\r\n          icon: \"error\",\r\n          title: \"请登录后再试\",\r\n          duration: 2000,\r\n        });\r\n      }\r\n    },\r\n\r\n    //控制左滑删除效果-begin\r\n    touchStart(index, event) {\r\n      //多点触控不触发\r\n      if (event.touches.length > 1) {\r\n        this.isStop = true;\r\n        return;\r\n      }\r\n      this.oldIndex = this.theIndex;\r\n      this.theIndex = null;\r\n      //初始坐标\r\n      this.initXY = [event.touches[0].pageX, event.touches[0].pageY];\r\n    },\r\n    touchMove(index, event) {\r\n      //多点触控不触发\r\n      if (event.touches.length > 1) {\r\n        this.isStop = true;\r\n        return;\r\n      }\r\n      let moveX = event.touches[0].pageX - this.initXY[0];\r\n      let moveY = event.touches[0].pageY - this.initXY[1];\r\n\r\n      if (this.isStop || Math.abs(moveX) < 5) {\r\n        return;\r\n      }\r\n      if (Math.abs(moveY) > Math.abs(moveX)) {\r\n        // 竖向滑动-不触发左滑效果\r\n        this.isStop = true;\r\n        return;\r\n      }\r\n\r\n      if (moveX < 0) {\r\n        this.theIndex = index;\r\n        this.isStop = true;\r\n      } else if (moveX > 0) {\r\n        if (this.theIndex != null && this.oldIndex == this.theIndex) {\r\n          this.oldIndex = index;\r\n          this.theIndex = null;\r\n          this.isStop = true;\r\n          setTimeout(() => {\r\n            this.oldIndex = null;\r\n          }, 150);\r\n        }\r\n      }\r\n    },\r\n    touchEnd(index, $event) {\r\n      //结束禁止触发效果\r\n      this.isStop = false;\r\n    },\r\n    //商品跳转\r\n    toGoods(goods) {\r\n      console.log(goods);\r\n      uni.navigateTo({\r\n        url: \"/pages/goods/goods?skuId=\" + goods.skuId,\r\n      });\r\n    },\r\n    //跳转确认订单页面\r\n    toConfirmation() {\r\n      let tmpList = [];\r\n      // let len = this.goodsList.length;\r\n      tmpList = this.goodsList.filter((item) => item.isChecked === 1);\r\n      if (tmpList.length < 1) {\r\n        uni.showToast({\r\n          title: \"请选择商品结算\",\r\n          icon: \"none\",\r\n        });\r\n        return;\r\n      }\r\n      uni.setStorage({\r\n        key: \"orderInfo\",\r\n        data: {\r\n          goodsList: tmpList,\r\n          totalPrice: this.totalPrice,\r\n        },\r\n        success: function () {\r\n          uni.navigateTo({\r\n            url: `../../order/confirmation`,\r\n          });\r\n        },\r\n      });\r\n    },\r\n    //删除商品\r\n    async deleteGoods(row) {\r\n      const res = await this.$API(\r\n        \"/cart/deleteOneCart?skuId=\" + row.skuId,\r\n        {},\r\n        \"delete\"\r\n      );\r\n      if (res.code === 200) {\r\n        this.theIndex = null;\r\n        this.oldIndex = null;\r\n        this.goodsList = this.goodsList.filter(\r\n          (item) => item.skuId !== row.skuId\r\n        );\r\n        uni.showToast({\r\n          title: \"删除成功\",\r\n          duration: 2000,\r\n        });\r\n      } else {\r\n        uni.showToast({\r\n          icon: \"error\",\r\n          title: \"请再试一次\",\r\n          duration: 2000,\r\n        });\r\n      }\r\n    },\r\n    // 选中单个商品\r\n    async selected(row) {\r\n      const res = await this.$API(\r\n        \"/cart/checkOneCart\",\r\n        { skuId: row.skuId, isChecked: row.isChecked === 1 ? 0 : 1 },\r\n        \"POST\"\r\n      );\r\n      if (res.code === 200) {\r\n        row.isChecked = row.isChecked === 1 ? 0 : 1;\r\n      } else {\r\n        uni.showToast({\r\n          icon: \"error\",\r\n          title: \"请勿重复点击\",\r\n          duration: 2000,\r\n        });\r\n      }\r\n    },\r\n    //全选\r\n    async allSelect() {\r\n      let status = this.isAllselected;\r\n      const res = await this.$API(\r\n        \"/cart/checkAllCart\",\r\n        { isChecked: status ? 0 : 1 },\r\n        \"POST\"\r\n      );\r\n      if (res.code === 200) {\r\n        this.goodsList.forEach((item) => {\r\n          item.isChecked = status ? 0 : 1;\r\n        });\r\n      } else {\r\n        uni.showToast({\r\n          icon: \"error\",\r\n          title: \"请勿重复点击\",\r\n          duration: 2000,\r\n        });\r\n      }\r\n    },\r\n    // 变更数量\r\n    async changeCount(row, num) {\r\n      if (num === -1 && row.skuNum === 1) {\r\n        uni.showToast({\r\n          icon: \"error\",\r\n          title: \"滑动可删除商品\",\r\n          duration: 2000,\r\n        });\r\n        return;\r\n      }\r\n      let skuNum;\r\n      if (arguments.length === 1) {\r\n        skuNum = row.skuNum;\r\n      } else {\r\n        skuNum = row.skuNum + num;\r\n      }\r\n      const res = await this.$API(\r\n        \"/cart/changeSkuNum\",\r\n        {\r\n          skuNum,\r\n          skuId: row.skuId,\r\n        },\r\n        \"POST\"\r\n      );\r\n      if (res.code === 200) {\r\n        row.skuNum = skuNum;\r\n      } else {\r\n        uni.showToast({\r\n          icon: \"error\",\r\n          title: \"请再试一次\",\r\n          duration: 2000,\r\n        });\r\n      }\r\n    },\r\n    // token过期去登录并清除storage\r\n    toLogin() {\r\n      uni.removeStorage({\r\n        key: \"Token\",\r\n        success: function () {\r\n          uni.navigateTo({\r\n            url: \"/pages/login/login\",\r\n          });\r\n        },\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    //  是否全选\r\n    isAllselected() {\r\n      return this.goodsList.every((item) => item.isChecked === 1);\r\n    },\r\n    // totalPrice\r\n    totalPrice() {\r\n      return this.goodsList.reduce((acc, cur) => {\r\n        if (cur.isChecked === 1) {\r\n          acc += cur.skuNum * cur.skuPrice;\r\n          return acc;\r\n        }\r\n      }, 0);\r\n    },\r\n    // 选中数量\r\n    selectedCount() {\r\n      return this.goodsList.reduce((acc, cur) => {\r\n        if (cur.isChecked === 1) {\r\n          acc += cur.skuNum;\r\n          return acc;\r\n        }\r\n      }, 0);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\npage {\r\n  position: relative;\r\n  background-color: #fff;\r\n}\r\n.checkbox-box {\r\n  display: flex;\r\n  align-items: center;\r\n  .checkbox {\r\n    width: 35upx;\r\n    height: 35upx;\r\n    border-radius: 100%;\r\n    border: solid 2upx #f06c7a;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    .on {\r\n      width: 25upx;\r\n      height: 25upx;\r\n      border-radius: 100%;\r\n      background-color: #f06c7a;\r\n    }\r\n  }\r\n  .text {\r\n    font-size: 28upx;\r\n    margin-left: 10upx;\r\n  }\r\n}\r\n.status {\r\n  width: 100%;\r\n  height: 0;\r\n  position: fixed;\r\n  z-index: 10;\r\n  background-color: #fff;\r\n  top: 0;\r\n  /*  #ifdef  APP-PLUS  */\r\n  height: var(--status-bar-height); //覆盖样式\r\n  /*  #endif  */\r\n}\r\n\r\n.header {\r\n  width: 92%;\r\n  padding: 0 4%;\r\n  height: 100upx;\r\n  display: flex;\r\n  align-items: center;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 10;\r\n  background-color: #fff;\r\n  /*  #ifdef  APP-PLUS  */\r\n  top: var(--status-bar-height);\r\n  /*  #endif  */\r\n  .title {\r\n    font-size: 36upx;\r\n  }\r\n}\r\n.place {\r\n  background-color: #ffffff;\r\n  height: 100upx;\r\n  /*  #ifdef  APP-PLUS  */\r\n  margin-top: var(--status-bar-height);\r\n  /*  #endif  */\r\n}\r\n.goods-list {\r\n  width: 100%;\r\n  padding: 20upx 0 120upx 0;\r\n  .tis {\r\n    width: 100%;\r\n    height: 60upx;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 32upx;\r\n  }\r\n  .row {\r\n    width: calc(92%);\r\n    height: calc(22vw + 40upx);\r\n    margin: 20upx auto;\r\n\r\n    border-radius: 15upx;\r\n    box-shadow: 0upx 5upx 20upx rgba(0, 0, 0, 0.1);\r\n    display: flex;\r\n    align-items: center;\r\n    position: relative;\r\n    overflow: hidden;\r\n    z-index: 4;\r\n    border: 0;\r\n    .menu {\r\n      .icon {\r\n        color: #fff;\r\n        // font-size: 25upx;\r\n      }\r\n      position: absolute;\r\n      width: 30%;\r\n      height: 100%;\r\n      right: 0;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      background-color: red;\r\n      color: #fff;\r\n      z-index: 2;\r\n    }\r\n    .carrier {\r\n      @keyframes showMenu {\r\n        0% {\r\n          transform: translateX(0);\r\n        }\r\n        100% {\r\n          transform: translateX(-30%);\r\n        }\r\n      }\r\n      @keyframes closeMenu {\r\n        0% {\r\n          transform: translateX(-30%);\r\n        }\r\n        100% {\r\n          transform: translateX(0);\r\n        }\r\n      }\r\n      &.open {\r\n        animation: showMenu 0.25s linear both;\r\n      }\r\n      &.close {\r\n        animation: closeMenu 0.15s linear both;\r\n      }\r\n      background-color: #fff;\r\n      .checkbox-box {\r\n        padding-left: 20upx;\r\n        flex-shrink: 0;\r\n        height: 22vw;\r\n        margin-right: 20upx;\r\n      }\r\n      position: absolute;\r\n      width: 100%;\r\n      padding: 0 0;\r\n      height: 100%;\r\n      z-index: 3;\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .goods-info {\r\n        width: 100%;\r\n        display: flex;\r\n        padding-right: 20upx;\r\n        .img {\r\n          width: 22vw;\r\n          height: 22vw;\r\n          border-radius: 10upx;\r\n          overflow: hidden;\r\n          flex-shrink: 0;\r\n          margin-right: 10upx;\r\n          image {\r\n            width: 22vw;\r\n            height: 22vw;\r\n          }\r\n        }\r\n        .info {\r\n          width: 100%;\r\n          height: 22vw;\r\n          overflow: hidden;\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          position: relative;\r\n          .title {\r\n            width: 100%;\r\n            font-size: 28upx;\r\n            display: -webkit-box;\r\n            -webkit-box-orient: vertical;\r\n            -webkit-line-clamp: 2;\r\n            // text-align: justify;\r\n            overflow: hidden;\r\n          }\r\n          .spec {\r\n            font-size: 20upx;\r\n            background-color: #f3f3f3;\r\n            color: #a7a7a7;\r\n            height: 30upx;\r\n            display: flex;\r\n            align-items: center;\r\n            padding: 0 10upx;\r\n            border-radius: 15upx;\r\n            margin-bottom: 20vw;\r\n          }\r\n          .price-number {\r\n            position: absolute;\r\n            width: 100%;\r\n            bottom: 0upx;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: flex-end;\r\n            font-size: 28upx;\r\n            height: 60upx;\r\n\r\n            .number {\r\n              display: flex;\r\n              justify-content: center;\r\n              align-items: flex-end;\r\n              .input {\r\n                width: 60upx;\r\n                height: 60upx;\r\n                margin: 0 10upx;\r\n                background-color: #f3f3f3;\r\n                input {\r\n                  width: 60upx;\r\n                  height: 60upx;\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                  text-align: center;\r\n                  font-size: 26upx;\r\n                }\r\n              }\r\n              .sub,\r\n              .add {\r\n                width: 45upx;\r\n                height: 45upx;\r\n                background-color: #f3f3f3;\r\n                border-radius: 5upx;\r\n                .icon {\r\n                  font-size: 22upx;\r\n                  width: 45upx;\r\n                  height: 45upx;\r\n                  display: flex;\r\n                  justify-content: center;\r\n                  align-items: center;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.footer {\r\n  width: 92%;\r\n  padding: 0 4%;\r\n  background-color: #fbfbfb;\r\n  height: 100upx;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: row-reverse;\r\n  align-items: center;\r\n  font-size: 28upx;\r\n  position: fixed;\r\n  bottom: 0upx;\r\n  z-index: 5;\r\n  .delBtn {\r\n    border: solid 1upx #f06c7a;\r\n    color: #f06c7a;\r\n    padding: 0 30upx;\r\n    height: 50upx;\r\n    border-radius: 30upx;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n  .settlement {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    .sum {\r\n      // width: 70%;\r\n      font-size: 28upx;\r\n      margin-right: 10upx;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      .money {\r\n        font-weight: 600;\r\n      }\r\n    }\r\n    .btn {\r\n      padding: 0 30upx;\r\n      height: 50upx;\r\n      background-color: #f06c7a;\r\n      color: #fff;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n\r\n      border-radius: 30upx;\r\n    }\r\n  }\r\n}\r\n.back {\r\n  button {\r\n    font-size: 36upx;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1625109582912\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}